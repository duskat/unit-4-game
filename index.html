<!DOCTYPE html>
<html>
<head>
  <title>CrystalsCollector Game</title>

  <style type="text/css">

    .crystal-image {
      width: 200px;
      height: 200px;
    }
  </style>

</head>
<body>

  <h1>Number to Guess: <span id="number-to-guess"></span></h1>

  <div id="crystals">
  
  </div>

  <h2>Your score: <span id="score">0</span></h2>  

  <h3>Wins: <span id="win">0</span></h3>
  <h3 >Losses: <span id="loss">0</span></h3>


  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <script type="text/javascript">

        var targetNumber = Math.floor(Math.random()*(120-19)+1) + 19; //19 - 120

        $("#number-to-guess").text(targetNumber);

        var crystals = $("#crystals");

        var counter = 0;

        var win = 0;
        var loss = 0;

           
            var numberOptions = [];
            for (var i = 0; i <4; i++){
                var random = Math.floor(Math.random()*12) + 1;
                numberOptions.push(random);               
            };
            console.log(numberOptions);

            for (var i = 0; i < 4; i++) {
                
                var imgsrc = [ 
                    "../unit-4-game/assets/images/crystal_rare.png", 
                    "../unit-4-game/assets/images/Green_Wind_Crystal.png", 
                    "../unit-4-game/assets/images/ice-crystal.png",
                    "../unit-4-game/assets/images/2-Star_Crystal.png",
                    "../unit-4-game/assets/images/Crystal_iso8.png",
                    "../unit-4-game/assets/images/Arena_Crystal.png",
                    "../unit-4-game/assets/images/crystal.png",
                ];
            
            var imageCrystal = $("<img>");
                for (var a = 0; a < 4; a ++){
                    var randomimg = imgsrc[Math.floor(Math.random()*imgsrc.length)];
                    // imageCrystal.attr("src", randomimg);
                }

            imageCrystal.attr("src", randomimg);
            
            imageCrystal.addClass("crystal-image");

            imageCrystal.attr("data-crystalvalue", numberOptions[i]);

            crystals.append(imageCrystal);
        }

        crystals.on("click", ".crystal-image", function() {

            var crystalValue = ($(this).attr("data-crystalvalue"));

            crystalValue = parseInt(crystalValue);

            counter += crystalValue;

            if (counter === targetNumber) {
            counter = 0;
            alert("You win!"); 
            win ++;
            $("#win").text(win);
            }

            else if (counter >= targetNumber) { 
            alert("You lose!!");
            counter = 0;
            loss ++;
            $("#loss").text(loss);
            }

            $("#score").text(counter);

            

        });

  </script>
</body>
</html>
